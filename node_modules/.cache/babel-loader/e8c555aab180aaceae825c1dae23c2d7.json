{"ast":null,"code":"var _jsxFileName = \"/home/paulo/Projects_myself/JS/sd-05-recipes-app-11-base/src/Pages/TelaLogin.jsx\";\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport Logo from '../images/open-baladin-roma.png';\nimport '../CSS/TelaLogin.css'; // HA https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript\n\nfunction validateEmail(email) {\n  const re = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction onclickFuntion(email) {\n  if (!localStorage.getItem('mealsToken')) localStorage.setItem('mealsToken', '1');\n  if (!localStorage.getItem('cocktailsToken')) localStorage.setItem('cocktailsToken', '1');\n  if (!localStorage.getItem('user')) localStorage.setItem('user', JSON.stringify({\n    email\n  }));\n}\n\nexport default function Login(props) {\n  const [validation, setValidation] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  useEffect(() => {\n    if (validateEmail(email) && password.length > 6) {\n      setValidation(false);\n    } else {\n      setValidation(true);\n    }\n  }, [email, password]);\n\n  const enterEvent = e => {\n    let key = e.which || e.keyCode;\n    console.log(e.keyCode);\n\n    if (key === 13 && validation) {\n      onclickFuntion(email);\n      props.history.push(\"/comidas\");\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/comidas\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"TelaLogin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    alt: \"logo\",\n    className: \"loginLogo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"loginText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"loginInput\",\n    \"data-testid\": \"email-input\",\n    type: \"email\",\n    placeholder: \"Email\",\n    onChange: e => setEmail(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"loginInput\",\n    \"data-testid\": \"password-input\",\n    type: \"password\",\n    minLength: \"7\",\n    placeholder: \"Senha\",\n    onChange: e => setPassword(e.target.value),\n    onKeyUp: e => enterEvent(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/comidas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"login-submit-btn\",\n    className: \"loginButton\",\n    type: \"button\",\n    onClick: () => onclickFuntion(email),\n    disabled: validation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Entrar\")));\n}","map":{"version":3,"sources":["/home/paulo/Projects_myself/JS/sd-05-recipes-app-11-base/src/Pages/TelaLogin.jsx"],"names":["React","useState","useEffect","Link","Redirect","Logo","validateEmail","email","re","test","String","toLowerCase","onclickFuntion","localStorage","getItem","setItem","JSON","stringify","Login","props","validation","setValidation","setEmail","password","setPassword","length","enterEvent","e","key","which","keyCode","console","log","history","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport Logo from '../images/open-baladin-roma.png';\nimport '../CSS/TelaLogin.css';\n\n// HA https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript\nfunction validateEmail(email) {\n  const re = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction onclickFuntion(email) {\n  if (!localStorage.getItem('mealsToken')) localStorage.setItem('mealsToken', '1');\n  if (!localStorage.getItem('cocktailsToken')) localStorage.setItem('cocktailsToken', '1');\n  if (!localStorage.getItem('user')) localStorage.setItem('user', JSON.stringify({ email }));\n}\n\nexport default function Login(props) {\n  const [validation, setValidation] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  useEffect(() => {\n    if (validateEmail(email) && password.length > 6) {\n      setValidation(false);\n    } else {\n      setValidation(true);\n    }\n  }, [email, password]);\n  const enterEvent = (e) => {\n    let key = e.which || e.keyCode;\n    console.log(e.keyCode);\n    if (key === 13 && validation) {\n      onclickFuntion(email);\n      props.history.push(\"/comidas\")\n      return <Redirect to=\"/comidas\" />;\n    }\n  };\n  return (\n    <form className=\"TelaLogin\">\n      <img src={Logo} alt=\"logo\" className=\"loginLogo\" />\n      <h1 className=\"loginText\">Login</h1>\n      <input\n        className=\"loginInput\"\n        data-testid=\"email-input\"\n        type=\"email\"\n        placeholder=\"Email\"\n        onChange={(e) => setEmail(e.target.value)}\n        required\n      />\n      <input\n        className=\"loginInput\"\n        data-testid=\"password-input\"\n        type=\"password\"\n        minLength=\"7\"\n        placeholder=\"Senha\"\n        onChange={(e) => setPassword(e.target.value)}\n        onKeyUp={(e) => enterEvent(e)}\n        required\n      />\n      <Link to=\"/comidas\">\n        <button\n          data-testid=\"login-submit-btn\"\n          className=\"loginButton\"\n          type=\"button\"\n          onClick={() => onclickFuntion(email)}\n          disabled={validation}\n        >\n          Entrar\n        </button>\n      </Link>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}