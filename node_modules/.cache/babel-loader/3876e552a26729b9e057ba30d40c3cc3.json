{"ast":null,"code":"var _jsxFileName = \"/home/paulo/Desktop/portifolio/App-Receitas/src/Pages/TelaDetalhesComida.jsx\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport propTypes from 'prop-types';\nimport { searchMealById } from '../Services/ApiComida';\nimport context from '../Context/ReceitasContext';\nimport DetalhesComida from '../Components/DetalhesComida';\nimport '../CSS/TelaDetalhes.css';\nimport { Link } from 'react-router-dom';\nexport function done(setStatus, id) {\n  let doneVar = localStorage.getItem('doneRecipes');\n\n  if (doneVar) {\n    doneVar = JSON.parse(doneVar);\n    doneVar = doneVar.find(el => el.id === id);\n\n    if (doneVar) {\n      return setStatus('done');\n    }\n  }\n\n  return null;\n}\nexport function favoriteRecipes(setFavoriteRecipes, id) {\n  let favoriteRecipesVar = localStorage.getItem('favoriteRecipes');\n\n  if (favoriteRecipesVar) {\n    favoriteRecipesVar = JSON.parse(favoriteRecipesVar);\n    favoriteRecipesVar = favoriteRecipesVar.find(el => el.id === id);\n\n    if (favoriteRecipesVar) {\n      return setFavoriteRecipes(true);\n    }\n  }\n\n  setFavoriteRecipes(false);\n  return null;\n}\n\nfunction inProgressRecipes(setStatus, id, tipo) {\n  let inProgressRecipesVar = localStorage.getItem('inProgressRecipes');\n\n  if (inProgressRecipesVar) {\n    inProgressRecipesVar = JSON.parse(inProgressRecipesVar)[tipo];\n    inProgressRecipesVar = inProgressRecipesVar[id];\n\n    if (inProgressRecipesVar) {\n      return setStatus('inProgressRecipes');\n    }\n  }\n\n  return null;\n}\n\nexport function updateStatus(id, setStatus, setFavoriteRecipes, tipo) {\n  done(setStatus, id);\n  favoriteRecipes(setFavoriteRecipes, id);\n  inProgressRecipes(setStatus, id, tipo);\n  return null;\n}\nexport default function TelaDetalhesComida(props) {\n  const {\n    sugestDrink\n  } = useContext(context);\n  const [details, setDetails] = useState(undefined);\n  const [indexRecom, setIndexRecom] = useState(0);\n  const [status, setStatus] = useState('nothing');\n  const [favorite, setFavorite] = useState(false);\n  const {\n    id_da_receita: idDaReceita\n  } = props.match.params;\n  useEffect(() => {\n    searchMealById(idDaReceita).then(resposta => {\n      if (!resposta) {\n        return null;\n      }\n\n      return setDetails(resposta[0]);\n    });\n    updateStatus(idDaReceita, setStatus, setFavorite, 'meals');\n  }, []);\n\n  if (!details) {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 12\n      }\n    }, \"Carregando\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => props.history.goBack(),\n    className: \"voltarLink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"VOLTAR\"), /*#__PURE__*/React.createElement(DetalhesComida, {\n    details: details,\n    favoriteRecipes: favorite,\n    status: status,\n    indexRecom: indexRecom,\n    setIndexRecom: setIndexRecom,\n    sugestDrink: sugestDrink,\n    idDaReceita: idDaReceita,\n    location: props.location,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }));\n}\nTelaDetalhesComida.propTypes = {\n  match: propTypes.shape({\n    params: propTypes.number.isRequired\n  }).isRequired,\n  location: propTypes.string.isRequired\n};","map":{"version":3,"sources":["/home/paulo/Desktop/portifolio/App-Receitas/src/Pages/TelaDetalhesComida.jsx"],"names":["React","useEffect","useState","useContext","propTypes","searchMealById","context","DetalhesComida","Link","done","setStatus","id","doneVar","localStorage","getItem","JSON","parse","find","el","favoriteRecipes","setFavoriteRecipes","favoriteRecipesVar","inProgressRecipes","tipo","inProgressRecipesVar","updateStatus","TelaDetalhesComida","props","sugestDrink","details","setDetails","undefined","indexRecom","setIndexRecom","status","favorite","setFavorite","id_da_receita","idDaReceita","match","params","then","resposta","history","goBack","location","shape","number","isRequired","string"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport propTypes from 'prop-types';\nimport { searchMealById } from '../Services/ApiComida';\nimport context from '../Context/ReceitasContext';\nimport DetalhesComida from '../Components/DetalhesComida';\nimport '../CSS/TelaDetalhes.css';\nimport { Link } from 'react-router-dom';\n\nexport function done(setStatus, id) {\n  let doneVar = localStorage.getItem('doneRecipes');\n  if (doneVar) {\n    doneVar = JSON.parse(doneVar);\n    doneVar = doneVar.find((el) => el.id === id);\n    if (doneVar) {\n      return setStatus('done');\n    }\n  }\n  return null;\n}\nexport function favoriteRecipes(setFavoriteRecipes, id) {\n  let favoriteRecipesVar = localStorage.getItem('favoriteRecipes');\n  if (favoriteRecipesVar) {\n    favoriteRecipesVar = JSON.parse(favoriteRecipesVar);\n    favoriteRecipesVar = favoriteRecipesVar.find((el) => el.id === id);\n    if (favoriteRecipesVar) {\n      return setFavoriteRecipes(true);\n    }\n  }\n  setFavoriteRecipes(false);\n  return null;\n}\nfunction inProgressRecipes(setStatus, id, tipo) {\n  let inProgressRecipesVar = localStorage.getItem('inProgressRecipes');\n  if (inProgressRecipesVar) {\n    inProgressRecipesVar = JSON.parse(inProgressRecipesVar)[tipo];\n    inProgressRecipesVar = inProgressRecipesVar[id];\n    if (inProgressRecipesVar) {\n      return setStatus('inProgressRecipes');\n    }\n  }\n  return null;\n}\nexport function updateStatus(id, setStatus, setFavoriteRecipes, tipo) {\n  done(setStatus, id);\n  favoriteRecipes(setFavoriteRecipes, id);\n  inProgressRecipes(setStatus, id, tipo);\n  return null;\n}\nexport default function TelaDetalhesComida(props) {\n  const { sugestDrink } = useContext(context);\n  const [details, setDetails] = useState(undefined);\n  const [indexRecom, setIndexRecom] = useState(0);\n  const [status, setStatus] = useState('nothing');\n  const [favorite, setFavorite] = useState(false);\n  const { id_da_receita: idDaReceita } = props.match.params;\n  useEffect(() => {\n    searchMealById(idDaReceita).then((resposta) => {\n      if (!resposta) {\n        return null;\n      }\n      return setDetails(resposta[0]);\n    });\n    updateStatus(idDaReceita, setStatus, setFavorite, 'meals');\n  }, []);\n  if (!details) {\n    return <h1>Carregando</h1>;\n  }\n  return (\n    <div>\n      <Link onClick={()=>props.history.goBack()} className=\"voltarLink\">VOLTAR</Link>\n      <DetalhesComida\n        details={details}\n        favoriteRecipes={favorite}\n        status={status}\n        indexRecom={indexRecom}\n        setIndexRecom={setIndexRecom}\n        sugestDrink={sugestDrink}\n        idDaReceita={idDaReceita}\n        location={props.location}\n      />\n    </div>\n  );\n}\nTelaDetalhesComida.propTypes = {\n  match: propTypes.shape({ params: propTypes.number.isRequired }).isRequired,\n  location: propTypes.string.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}