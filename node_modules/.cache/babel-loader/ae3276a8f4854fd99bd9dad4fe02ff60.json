{"ast":null,"code":"var _jsxFileName = \"/home/paulo/Projects_myself/JS/sd-05-recipes-app-11-base/src/Components/DetalhesComida.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport ReactPlayer from 'react-player';\nimport { Link } from 'react-router-dom';\nimport propTypes from 'prop-types';\nimport Carousel from '@brainhubeu/react-carousel';\nimport Card from './CardRecomend.jsx';\nimport blackHeart from \"../images/blackHeartIcon.svg\";\nimport whiteHeart from \"../images/whiteHeartIcon.svg\";\nimport shareIcon from \"../images/shareIcon.svg\";\nexport function convertFoodDone(food, tipo) {\n  const saida = {\n    id: food[`id${tipo}`],\n    type: tipo === 'Meal' ? 'comida' : 'bebida',\n    area: food.strArea,\n    category: food.strCategory,\n    alcoholicOrNot: !food.strAlcoholic ? 'Not' : food.strAlcoholic,\n    name: food[`str${tipo}`],\n    image: food[`str${tipo}Thumb`],\n    doneDate: new Date().toLocaleDateString(),\n    tags: [food.strTags]\n  };\n  return saida;\n}\n\nfunction fotoPrincipal(details) {\n  return /*#__PURE__*/React.createElement(\"img\", {\n    src: details.strMealThumb,\n    alt: details.strMeal,\n    className: \"recipe-photo\",\n    \"data-testid\": \"recipe-photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  });\n}\n\nfunction addFavority(receita, setFavority) {\n  let oldFav = localStorage.getItem('favoriteRecipes');\n\n  if (!oldFav) {\n    setFavority(true);\n    return localStorage.setItem('favoriteRecipes', JSON.stringify([receita]));\n  }\n\n  oldFav = [...JSON.parse(oldFav)];\n\n  if (oldFav.find(el => el.id === receita.id)) {\n    setFavority(false);\n    return localStorage.setItem('favoriteRecipes', JSON.stringify(oldFav.filter(el => el.id !== receita.id)));\n  }\n\n  const temp = [...oldFav, receita];\n  setFavority(true);\n  return localStorage.setItem('favoriteRecipes', JSON.stringify(temp));\n}\n\nexport function convertFavorite(food, setFavority) {\n  let type = 'Drink';\n\n  if (food.idMeal) {\n    type = 'Meal';\n  }\n\n  const saida = {\n    id: food[`id${type}`],\n    type: type === 'Drink' ? 'bebida' : 'comida',\n    category: food.strCategory,\n    alcoholicOrNot: type === 'Meal' ? '' : 'Alcoholic',\n    name: food[`str${type}`],\n    image: food[`str${type}Thumb`],\n    area: food.strArea !== undefined ? food.strArea : ''\n    /* doneDate, */\n\n    /*  tags: food.strTags, */\n\n  };\n  addFavority(saida, setFavority);\n  return saida;\n}\n/* export function uploadDoneRecipes(receita) {\n  const { id, type, area, category, alcoholicOrNot, name, image, doneDate, tags } = receita;\n} */\n\nexport function loopIndex(indexArr, IndexAtual) {\n  let index = indexArr;\n  if (indexArr < 0) index = 5;\n  return index % 6 === IndexAtual % 6;\n}\n\nfunction ReverseArrayFoto(sugestDrink, indexRecom, setIndexRecom, location) {\n  if (indexRecom < 0) {\n    setIndexRecom(5);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"carousel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Carousel, {\n      itemWidth: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, sugestDrink.map((item, index) => /*#__PURE__*/React.createElement(Card, {\n      key: item.strDrink,\n      title: item.strDrink,\n      index: index,\n      source: item.strDrinkThumb,\n      show: indexRecom,\n      id: item.idDrink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carousel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    plugins: ['arrows'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, sugestDrink.map((item, index) => /*#__PURE__*/React.createElement(Card, {\n    key: item.strDrink,\n    title: item.strDrink,\n    index: index,\n    source: item.strDrinkThumb,\n    show: indexRecom,\n    location: location,\n    id: item.idDrink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport function funcIngredients(ingredientes, details) {\n  for (let i = 1; i < 20; i += 1) {\n    if (details[`strIngredient${i}`] !== null && details[`strIngredient${i}`] !== '' && details[`strIngredient${i}`] !== undefined) {\n      ingredientes.push({\n        ingrediente: details[`strIngredient${i}`],\n        quantidade: details[`strMeasure${i}`]\n      });\n    }\n  }\n\n  return ingredientes;\n} // HA https://www.codegrepper.com/code-examples/basic/copy+string+to+clipboard+javascript\n\nexport function CopyURL() {\n  window.navigator.clipboard.writeText(window.location.toString());\n}\n\nfunction funcLinks(details, favority, setFavority, copiador, copy) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campoTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"recipe-title\",\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, details.strMeal), /*#__PURE__*/React.createElement(Link, {\n    onClick: () => convertFavorite(details, setFavority),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: favority ? blackHeart : whiteHeart,\n    alt: \"like icon\",\n    className: \"icon\",\n    \"data-testid\": \"favorite-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    onClick: () => {\n      copiador(true);\n      CopyURL();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: shareIcon,\n    alt: \"like icon\",\n    className: \"icon\",\n    \"data-testid\": 'share-btn',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  })), copy ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, \"Link copiado!\") : null);\n}\n\nfunction categoriaReceita(details) {\n  return /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"recipe-category\",\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, details.strCategory);\n}\n\nexport default function Detalhes(props) {\n  const [favority, setFavority] = useState(false);\n  const [copy, copiador] = useState(false);\n  const {\n    details,\n    favoriteRecipes,\n    status,\n    indexRecom,\n    setIndexRecom,\n    sugestDrink,\n    idDaReceita,\n    location\n  } = props;\n  useEffect(() => setFavority(favoriteRecipes), []);\n  const novosIngredientes = funcIngredients([], details);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }\n  }, fotoPrincipal(details), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"DetelhesBuddy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }, funcLinks(details, favority, setFavority, copiador, copy), categoriaReceita(details), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"subTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, \"Ingredients\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"yellowCampDetalhes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, novosIngredientes.map((item, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.ingrediente,\n    \"data-testid\": `${index}-ingredient-name-and-measure`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, item.ingrediente, \"- \", item.quantidade))), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"subTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, \"Instructions:\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"yellowCampDetalhes\",\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, details.strInstructions), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"subTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  }, \"Video\"), /*#__PURE__*/React.createElement(ReactPlayer, {\n    url: details.strYoutube,\n    \"data-testid\": \"video\",\n    width: \"100%\",\n    height: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"subTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, \"Recomenda\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flex: 1,\n      flexGrow: 1,\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, ReverseArrayFoto(sugestDrink, indexRecom, setIndexRecom, location))), status === 'done' ? null : /*#__PURE__*/React.createElement(Link, {\n    to: `/comidas/${idDaReceita}/in-progress`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"start-recipe-btn\",\n    className: \"start-recipe-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, status === 'nothing' ? 'Inicia Receita' : 'Continuar Receita')));\n}\nDetalhes.propTypes = {\n  details: propTypes.instanceOf(Object).isRequired,\n  favoriteRecipes: propTypes.func.isRequired,\n  status: propTypes.string.isRequired,\n  indexRecom: propTypes.number.isRequired,\n  setIndexRecom: propTypes.func.isRequired,\n  sugestDrink: propTypes.arrayOf(propTypes.instanceOf(Object)).isRequired,\n  idDaReceita: propTypes.number.isRequired,\n  location: propTypes.string.isRequired\n};","map":{"version":3,"sources":["/home/paulo/Projects_myself/JS/sd-05-recipes-app-11-base/src/Components/DetalhesComida.jsx"],"names":["React","useState","useEffect","ReactPlayer","Link","propTypes","Carousel","Card","convertFoodDone","food","tipo","saida","id","type","area","strArea","category","strCategory","alcoholicOrNot","strAlcoholic","name","image","doneDate","Date","toLocaleDateString","tags","strTags","fotoPrincipal","details","strMealThumb","strMeal","addFavority","receita","setFavority","oldFav","localStorage","getItem","setItem","JSON","stringify","parse","find","el","filter","temp","convertFavorite","idMeal","undefined","loopIndex","indexArr","IndexAtual","index","ReverseArrayFoto","sugestDrink","indexRecom","setIndexRecom","location","map","item","strDrink","strDrinkThumb","idDrink","funcIngredients","ingredientes","i","push","ingrediente","quantidade","CopyURL","window","navigator","clipboard","writeText","toString","funcLinks","favority","copiador","copy","blackHeart","whiteHeart","shareIcon","categoriaReceita","Detalhes","props","favoriteRecipes","status","idDaReceita","novosIngredientes","strInstructions","strYoutube","display","flex","flexGrow","flexDirection","instanceOf","Object","isRequired","func","string","number","arrayOf"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactPlayer from 'react-player';\nimport { Link } from 'react-router-dom';\nimport propTypes from 'prop-types';\nimport Carousel from '@brainhubeu/react-carousel';\nimport Card from './CardRecomend.jsx';\nimport blackHeart from '../images/blackHeartIcon.svg';\nimport whiteHeart from '../images/whiteHeartIcon.svg';\nimport shareIcon from '../images/shareIcon.svg';\n\nexport function convertFoodDone(food, tipo) {\n  const saida = {\n    id: food[`id${tipo}`],\n    type: tipo === 'Meal' ? 'comida' : 'bebida',\n    area: food.strArea,\n    category: food.strCategory,\n    alcoholicOrNot: !food.strAlcoholic ? 'Not' : food.strAlcoholic,\n    name: food[`str${tipo}`],\n    image: food[`str${tipo}Thumb`],\n    doneDate: new Date().toLocaleDateString(),\n    tags: [food.strTags],\n  };\n  return saida;\n}\n\nfunction fotoPrincipal(details) {\n  return (\n    <img\n      src={details.strMealThumb}\n      alt={details.strMeal}\n      className=\"recipe-photo\"\n      data-testid=\"recipe-photo\"\n    />\n  );\n}\n\nfunction addFavority(receita, setFavority) {\n  let oldFav = localStorage.getItem('favoriteRecipes');\n  if (!oldFav) {\n    setFavority(true);\n    return localStorage.setItem('favoriteRecipes', JSON.stringify([receita]));\n  }\n  oldFav = [...JSON.parse(oldFav)];\n  if (oldFav.find((el) => el.id === receita.id)) {\n    setFavority(false);\n    return localStorage.setItem(\n      'favoriteRecipes',\n      JSON.stringify(oldFav.filter((el) => el.id !== receita.id))\n    );\n  }\n  const temp = [...oldFav, receita];\n  setFavority(true);\n  return localStorage.setItem('favoriteRecipes', JSON.stringify(temp));\n}\n\nexport function convertFavorite(food, setFavority) {\n  let type = 'Drink';\n\n  if (food.idMeal) {\n    type = 'Meal';\n  }\n  const saida = {\n    id: food[`id${type}`],\n    type: type === 'Drink' ? 'bebida' : 'comida',\n    category: food.strCategory,\n    alcoholicOrNot: type === 'Meal' ? '' : 'Alcoholic',\n    name: food[`str${type}`],\n    image: food[`str${type}Thumb`],\n    area: food.strArea !== undefined ? food.strArea : '',\n    /* doneDate, */\n    /*  tags: food.strTags, */\n  };\n  addFavority(saida, setFavority);\n  return saida;\n}\n\n/* export function uploadDoneRecipes(receita) {\n  const { id, type, area, category, alcoholicOrNot, name, image, doneDate, tags } = receita;\n} */\n\nexport function loopIndex(indexArr, IndexAtual) {\n  let index = indexArr;\n  if (indexArr < 0) index = 5;\n  return index % 6 === IndexAtual % 6;\n}\n\nfunction ReverseArrayFoto(sugestDrink, indexRecom, setIndexRecom, location) {\n  if (indexRecom < 0) {\n    setIndexRecom(5);\n    return (\n      <div className=\"carousel\">\n        <Carousel itemWidth=\"100%\">\n          {sugestDrink.map((item, index) => (\n            <Card\n              key={item.strDrink}\n              title={item.strDrink}\n              index={index}\n              source={item.strDrinkThumb}\n              show={indexRecom}\n              id={item.idDrink}\n            />\n          ))}\n        </Carousel>\n      </div>\n    );\n  }\n  return (\n    <div className=\"carousel\">\n      <Carousel plugins={['arrows']}>\n        {sugestDrink.map((item, index) => (\n          <Card\n            key={item.strDrink}\n            title={item.strDrink}\n            index={index}\n            source={item.strDrinkThumb}\n            show={indexRecom}\n            location={location}\n            id={item.idDrink}\n          />\n        ))}\n      </Carousel>\n    </div>\n  );\n}\n\nexport function funcIngredients(ingredientes, details) {\n  for (let i = 1; i < 20; i += 1) {\n    if (\n      details[`strIngredient${i}`] !== null &&\n      details[`strIngredient${i}`] !== '' &&\n      details[`strIngredient${i}`] !== undefined\n    ) {\n      ingredientes.push({\n        ingrediente: details[`strIngredient${i}`],\n        quantidade: details[`strMeasure${i}`],\n      });\n    }\n  }\n  return ingredientes;\n}\n\n// HA https://www.codegrepper.com/code-examples/basic/copy+string+to+clipboard+javascript\nexport function CopyURL() {\n  window.navigator.clipboard.writeText(window.location.toString());\n}\nfunction funcLinks(details, favority, setFavority, copiador, copy) {\n  return (\n    <div className=\"campoTitle\">\n      <h1 className=\"recipe-title\" data-testid=\"recipe-title\">\n        {details.strMeal}\n      </h1>\n      <Link onClick={() => convertFavorite(details, setFavority)}>\n        <img\n          src={favority ? blackHeart : whiteHeart}\n          alt=\"like icon\"\n          className=\"icon\"\n          data-testid=\"favorite-btn\"\n        />\n      </Link>\n      <Link\n        onClick={() => {\n          copiador(true);\n          CopyURL();\n        }}\n      >\n        <img src={shareIcon} alt=\"like icon\" className=\"icon\" data-testid={'share-btn'} />\n      </Link>\n      {copy ? <span>Link copiado!</span> : null}\n    </div>\n  );\n}\nfunction categoriaReceita(details) {\n  return (\n    <h5 className=\"recipe-category\" data-testid=\"recipe-category\">\n      {details.strCategory}\n    </h5>\n  );\n}\nexport default function Detalhes(props) {\n  const [favority, setFavority] = useState(false);\n  const [copy, copiador] = useState(false);\n  const {\n    details,\n    favoriteRecipes,\n    status,\n    indexRecom,\n    setIndexRecom,\n    sugestDrink,\n    idDaReceita,\n    location,\n  } = props;\n  useEffect(() => setFavority(favoriteRecipes), []);\n  const novosIngredientes = funcIngredients([], details);\n  return (\n    <div>\n      {fotoPrincipal(details)}\n      <div className=\"DetelhesBuddy\">\n        {funcLinks(details, favority, setFavority, copiador, copy)}\n        {categoriaReceita(details)}\n        <h3 className=\"subTitle\">Ingredients</h3>\n        <ul className=\"yellowCampDetalhes\">\n          {novosIngredientes.map((item, index) => (\n            <li key={item.ingrediente} data-testid={`${index}-ingredient-name-and-measure`}>\n              {item.ingrediente}- {item.quantidade}\n            </li>\n          ))}\n        </ul>\n        <h3 className=\"subTitle\">Instructions:</h3>\n        <p className=\"yellowCampDetalhes\" data-testid=\"instructions\">\n          {details.strInstructions}\n        </p>\n        <h3 className=\"subTitle\">Video</h3>\n        <ReactPlayer url={details.strYoutube} data-testid=\"video\" width=\"100%\" height=\"100%\" />\n        <h3 className=\"subTitle\">Recomendações</h3>\n        <div style={{ display: 'flex', flex: 1, flexGrow: 1, flexDirection: 'row' }}>\n          {ReverseArrayFoto(sugestDrink, indexRecom, setIndexRecom, location)}\n        </div>\n      </div>\n      {status === 'done' ? null : (\n        <Link to={`/comidas/${idDaReceita}/in-progress`}>\n          <button data-testid=\"start-recipe-btn\" className=\"start-recipe-btn\">\n            {status === 'nothing' ? 'Inicia Receita' : 'Continuar Receita'}\n          </button>\n        </Link>\n      )}\n    </div>\n  );\n}\n\nDetalhes.propTypes = {\n  details: propTypes.instanceOf(Object).isRequired,\n  favoriteRecipes: propTypes.func.isRequired,\n  status: propTypes.string.isRequired,\n  indexRecom: propTypes.number.isRequired,\n  setIndexRecom: propTypes.func.isRequired,\n  sugestDrink: propTypes.arrayOf(propTypes.instanceOf(Object)).isRequired,\n  idDaReceita: propTypes.number.isRequired,\n  location: propTypes.string.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}